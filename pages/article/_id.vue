<template>
  <div style="height:1500px">5555555</div>
</template>

<script>
export default {
  components: {},
  // æ ¡éªŒidä¸ºæ•°å€¼æ‰å¯è®¿é—®æ­¤ç»„ä»¶
   validate({params}) {
       return /^\d+$/.test(params.id)
   },
   layout(context) {
    console.log("ğŸš€ ~ file: _id.vue ~ line 13 ~ layout ~ context", context)
    return 'light'
  },
   head() {
       return {
          //  title: this.data.title // æµè§ˆå™¨ä¸­çš„æ ‡é¢˜
           title: 'æ–‡ç« è¯¦æƒ…' // æµè§ˆå™¨ä¸­çš„æ ‡é¢˜
       }
   },
  props: {},
  data() {
    return {};
  },
  computed: {},
  watch: {},
  created() {},
  mounted() {},
  updated() {},
  methods: {},
  //  async asyncData({params, app}) {
  //      // 1. æŸ¥è¯¢æ–‡ç« è¯¦æƒ…
  //       const {data} = await app.$getArticleById(params.id)

  //      // 2. æ›´æ–°æ–‡ç« æµè§ˆæ•°: å°†æœ¬æ­¤æŸ¥è¯¢æ–‡ç« çš„idä¿å­˜åˆ°cookie, 
  //      // å¦‚æœè¯´cookieå­˜åœ¨æ­¤æ–‡ç« idï¼Œåˆ™ä¸æ›´æ–°æµè§ˆå™¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ›´æ–°ï¼Œ
  //      // å½“æµè§ˆå™¨å…³é—­è‡ªåŠ¨å°†æ­¤æ–‡ç« cookieçš„å€¼æŠŠå®ƒåˆ é™¤ï¼Œå†å®ƒä¸‹æ¬¡æ‰“å¼€æµè§ˆå™¨çš„æ—¶å€™ï¼Œå†å»è®¿é—®æ–‡ç« ï¼Œæ–‡ç« æµè§ˆæ•°å°±+1
  //      // a. åˆ¤æ–­å½“å‰cookieæ˜¯å¦å­˜åœ¨æ­¤æ–‡ç« id
  //      const isView = app.$cookies.get(`aritcle-view-${params.id}`)
  //      if(!isView) {
  //          // æ²¡æœ‰å€¼ ï¼Œå¯ä»¥æ›´æ–°æµè§ˆæ•°
  //          const {code} = await app.$updateArticleViewCount(params.id)
  //          if(code === 20000) {
  //              // å°†æ­¤æ–‡ç« æµè§ˆæ•°+1
  //              data.viewCount++
  //              // ä¿å­˜cookieä¸­, å…³é—­æµè§ˆå™¨åä¼šè¢«åˆ é™¤
  //              app.$cookies.set(`aritcle-view-${params.id}`, true)
  //          }
  //      }

  //   //    console.log('æ–‡ç« è¯¦æƒ…', data)
  //     // é€šè¿‡æ–‡ç« idæŸ¥è¯¢æ‰€æœ‰è¯„è®ºåˆ—è¡¨ä¿¡æ¯
  //     const {data: commentList} = await app.$getCommentListByArticleId(params.id)
  //     return { data, commentList }
  //  }
};
</script>

<style scoped>
</style>